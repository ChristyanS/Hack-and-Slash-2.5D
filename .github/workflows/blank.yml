name: Sonar
on: [push]	
env:
  UNITY_LICENSE: ${{ secrets.UNITY_LICENSE }}
jobs:	
  build:
    name: Build my project âœ¨
    runs-on: windows-latest
    steps:	
     - uses: actions/checkout@v2
       with:
          fetch-depth: 0  # Shallow clones should be disabled for a better relevancy of analysis 
     - name: Sonarscanner for dotnet
       uses: Secbyte/dotnet-sonarscanner@v1.2
       with:
         buildCommand: dotnet build .
         testCommand: dotnet test .
         projectKey: "ChristyanS_Hack-and-Slash-2.5D"
         beginArguments: /d:sonar.verbose="true"
       env:
          SONAR_TOKEN: ${{ secrets.SONAR_TOKEN }}
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}
